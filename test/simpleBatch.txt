### This is the file 'simpleBatch.txt'

#################### useYAMLLibrary com.esotericsoftware.yamlbeans
# properties batchLookup=./props.txt

setProperty	AWSCFN.HOME=${ASUX::ORGASUXHOME}/AWS/CFN
print ${ASUX::AWSCFN.HOME}

useAsInput @./inputs/AWS.AZdetails-us-east-1.json

//---------------------------
### Outside of this batch-file run:-
### aws.sdk ec2 describe-availability-zones --region us-east-2 --output json --profile XYZ
### useAsInput @/tmp/aws.AZs.yaml
### yaml --read         AvailabilityZones.*.ZoneId

useAsInput @./inputs/aws.regions.yaml
useAsInput @${ASUX::AWSCFN.HOME}/config/inputs/AWSRegions.yaml
#______ aws.sdk --list-regions

//--------------------------------------------------
foreach
	print ${ASUX::foreach.iteration.value} \n
	setProperty AWSRegion=${ASUX::foreach.iteration.value}
	#______ aws.sdk --list-AZs      ${ASUX::foreach.iteration.value}
	useAsInput  @${ASUX::AWSCFN.HOME}/config/inputs/AWS.AZlist-${ASUX::AWSRegion}.yaml
	#______ print -
	foreach
		print AZ no. ${ASUX::foreach.index} is: 
		print ${ASUX::foreach.iteration.value}
	end
	print \n ## We do Not get here, above end matches for BOTH of above lines.
	#______ sleep 30
end
//--------------------------------------------------

#______ useAsInput @./aws.AZs.json

#EoF
