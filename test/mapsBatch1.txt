### This is the file 'simpleBatch.txt'

# properties batchLookup=./props.txt

## useAsInput @/mnt/development/src/org.ASUX/test/aws.regions-details.json
aws.sdk --list-regions

//--------------------------------------------------
foreach
	print ${ASUX::foreach.iteration.value}
	aws.sdk --describe-AZs      ${ASUX::foreach.iteration.value}
	### ATTENTION: the above aws.sdk command's output is NOT SIMPLE KVPairs.
	### It has an empty ARRAY object called 'Messages'
	### Example: {State=available, Messages=[], RegionName=eu-north-1, ZoneName=eu-north-1a, ZoneId=eun1-az1}

	foreach
		print AZ no. ${ASUX::foreach.index} is: 
		print ${ASUX::foreach.iteration.value}
		yaml --delete Messages. ### See above comments about empty ARRAY object called 'Messages'
		foreach
			print ${ASUX::foreach.iteration.key} = ${ASUX::foreach.iteration.value}
		end
		print \n
	end
	print \n
end
//--------------------------------------------------

# useAsInput @/tmp/aws.AZs.json

#EoF
